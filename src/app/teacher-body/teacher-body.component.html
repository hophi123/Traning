<div class="main">
    <div [class]="show()">
        <div class="form">
            <button (click)="clickButtonAdd()">Add new</button>
            <form>
                <label>Tên:</label><input type="text" name="ten">
                <label>Phone:</label><input type="text" name="phone">
                <label>Ngày sinh:</label><input type="date" name="ngaysinh">
                <button>Search</button>
            </form>
        </div>
        <div class="teacher-body">
            <table>
                <tr class="first-tr">
                    <th>#</th>
                    <th>Tên</th>
                    <th>Khoa</th>
                    <th>Phone</th>
                    <th>Mail</th>
                    <th>Ngày sinh</th>
                </tr>
                <ng-container *ngFor="let teacher of teachers; let i = index">
                    <tr *ngFor="let data of teacher.data; let j = index; let l = count;">
                        <ng-container [ngSwitch]="j">
                            <ng-container *ngSwitchCase="0">
                                <td>{{data.id}}</td>
                                <td [ngStyle]="{'background-color': isShowEdit == true && data.id == idStyle ? '#ACF5E1' : ''}" (click)="clickButtonEdit(data.id);">{{data.name}}</td>
                                <td [rowSpan]="l">{{khoas[data.khoa-1].name}}</td>
                                <td>{{data.phone}}</td>
                                <td>{{data.mail}}</td>
                                <td>{{data.birthday}}</td>
                            </ng-container>
                            <ng-container *ngSwitchDefault>
                                <td>{{data.id}}</td>
                                <td [ngStyle]="{'background-color': isShowEdit == true && data.id == idStyle ? '#ACF5E1' : ''}" (click)="clickButtonEdit(data.id); getTeacherInfo(data.id)">{{data.name}}</td>
                                <td>{{data.phone}}</td>
                                <td>{{data.mail}}</td>
                                <td>{{data.birthday}}</td>
                            </ng-container>
                        </ng-container>
                    </tr>
                </ng-container>
            </table>
        </div>
    </div>
    <div *ngIf="isShow" class="popup-add">
        <button class="button-x" (click)="isShow=false">X</button>
        <form>
            <p>
                <label>Tên:</label><input type="text" name="ten"><br>
            </p>
            <p>
                <label>Phone:</label><input type="text" name="phone"><br>
            </p>
            <p>
                <label>Ngày sinh:</label><input type="date" name="ngaysinh"><br>
            </p>
            <p>
                <label>Khoa:</label>
                <select>
                    <option></option>
                    <option *ngFor="let khoa of khoas" >{{khoa.name}}</option>
                </select>
            </p>
        </form>
        <button class="button-save">Save</button>
    </div>
    <div *ngIf="isShowEdit" class="popup-edit">
        <button class="button-x" (click)="isShowEdit=false">X</button>
        <form>
            <p>
                <label>Tên:</label><input type="text" name="ten" value={{teacherInfo.name}}><br>
            </p>
            <p>
                <label>Phone:</label><input type="text" value={{teacherInfo.phone}}><br>
            </p>
            <p>
                <label>Ngày sinh:</label><input type="date" value={{teacherInfo.birthday}}><br>
            </p>
            <p>
                <label>Khoa:</label>
                <select>
                    <ng-container *ngFor="let khoa of khoas">
                        <option *ngIf="teacherInfo.khoa == khoa.id" selected>{{khoa.name}}</option>
                        <option *ngIf="teacherInfo.khoa != khoa.id">{{khoa.name}}</option>
                    </ng-container>
                </select>
            </p>
        </form>
        <button class="button-save">Save</button>
    </div>
</div>